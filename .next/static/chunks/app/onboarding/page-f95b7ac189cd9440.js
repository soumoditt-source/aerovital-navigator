(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6602:function(e,t,s){Promise.resolve().then(s.bind(s,6897))},6897:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),i=s(2265),r=s(9376),n=s(8614),o=s(521),l=s(2369),d=s(8662),c=s(4743),u=s(9541);function h(){let e=(0,r.useRouter)(),t=(0,u.L)(e=>e.setUser),[s,h]=(0,i.useState)([{id:"1",text:"Hi! I'm AeroVital. I'm here to protect your health from air pollution. To get started, what's your name?",sender:"ai"}]),[m,g]=(0,i.useState)(""),[b,x]=(0,i.useState)(1),[y,f]=(0,i.useState)({medicalConditions:{cardiovascular:!1,respiratory:!1,metabolic:!1,specificConditions:[]},medications:[]}),w=(0,i.useRef)(null),p=()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,i.useEffect)(()=>{p()},[s]);let v=()=>{if(!m.trim())return;let e={id:Date.now().toString(),text:m,sender:"user"};h(t=>[...t,e]),j(m),g("")},j=s=>{setTimeout(()=>{let a="";switch(b){case 1:f(e=>({...e,name:s})),a="Nice to meet you, ".concat(s,"! How old are you?"),x(2);break;case 2:f(e=>({...e,age:parseInt(s)||30})),a="Got it. What's your height (cm) and weight (kg)? (e.g. 175 70)",x(3);break;case 3:let[i,r]=s.split(/[\s,]+/).map(Number);f(e=>({...e,height:i||170,weight:r||70})),a="Do you have any heart or lung conditions? (Asthma, COPD, Heart Disease, etc.)",x(4);break;case 4:s.toLowerCase().includes("yes")||s.toLowerCase().includes("asthma")||s.toLowerCase().includes("heart"),f(e=>({...e,medicalConditions:{...e.medicalConditions,cardiovascular:s.toLowerCase().includes("heart"),respiratory:s.toLowerCase().includes("asthma")||s.toLowerCase().includes("copd")}})),a="Are you currently taking any medications?",x(5);break;case 5:f(e=>({...e,medications:[s]})),a="How often do you exercise? (Daily, Weekly, Rarely)",x(6);break;case 6:f(e=>({...e,fitnessLevel:s.toLowerCase().includes("daily")?"advanced":s.toLowerCase().includes("weekly")?"intermediate":"beginner"})),a="Perfect! Calculating your health profile...",x(7),setTimeout(()=>{t({id:Date.now().toString(),name:y.name||"User",age:y.age||30,weight:y.weight||70,height:y.height||170,bmi:(y.weight||70)/((y.height||170)/100)**2,medicalConditions:y.medicalConditions,medications:y.medications||[],fitnessLevel:y.fitnessLevel||"intermediate",createdAt:new Date().toISOString()}),e.push("/dashboard")},1500)}h(e=>[...e,{id:Date.now().toString(),text:a,sender:"ai"}])},600)};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"bg-white p-4 shadow-sm flex items-center justify-between z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:(0,a.jsx)(l.Z,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold",children:"AeroVital AI"}),(0,a.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Online"]})]})]}),(0,a.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(b/7*100,"%")}})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,a.jsx)(n.M,{children:s.map(e=>(0,a.jsx)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-[80%] p-4 rounded-2xl ".concat("user"===e.sender?"bg-blue-600 text-white rounded-br-none":"bg-white text-gray-800 shadow-sm rounded-bl-none border border-gray-100"),children:e.text})},e.id))}),(0,a.jsx)("div",{ref:w})]}),(0,a.jsx)("div",{className:"p-4 bg-white border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex gap-2 items-center bg-gray-50 p-2 rounded-full border border-gray-200 focus-within:border-blue-500 transition-colors",children:[(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition",children:(0,a.jsx)(d.Z,{size:20})}),(0,a.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),onKeyDown:e=>"Enter"===e.key&&v(),placeholder:"Type your answer...",className:"flex-1 bg-transparent outline-none text-gray-800 placeholder-gray-400"}),(0,a.jsx)("button",{onClick:v,disabled:!m.trim(),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 transition",children:(0,a.jsx)(c.Z,{size:18})})]})})]})}},9541:function(e,t,s){"use strict";s.d(t,{L:function(){return r}});var a=s(9625),i=s(6885);let r=(0,a.Ue)()((0,i.tJ)(e=>({user:null,setUser:t=>e({user:t}),clearUser:()=>e({user:null})}),{name:"aerovital-user"}))}},function(e){e.O(0,[762,383,971,117,744],function(){return e(e.s=6602)}),_N_E=e.O()}]);