(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9092:function(e,t,n){Promise.resolve().then(n.bind(n,3949))},166:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(5775),a=n.n(r)},257:function(e,t,n){"use strict";var r,a;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(a=n.g.process)?void 0:a.env)?n.g.process:n(4227)},4227:function(e){!function(){var t={229:function(e){var t,n,r,a=e.exports={};function l(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var o=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?o=r.concat(o):u=-1,o.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=o.length;t;){for(r=o,o=[];++u<t;)r&&r[u].run();u=-1,t=o.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new h(e,t)),1!==o.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={exports:{}},i=!0;try{t[e](l,l.exports,r),i=!1}finally{i&&delete n[e]}return l.exports}r.ab="//";var a=r(229);e.exports=a}()},5775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=n(7043);n(7437),n(2265);let a=r._(n(5602));function l(e,t){var n;let r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let l={...r,...t};return(0,a.default)({...l,modules:null==(n=l.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=n(8993);function a(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},5602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=n(7437),a=n(2265),l=n(1523),i=n(49);function s(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},n=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function u(e){let s=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(i.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(a.Suspense,{fallback:s,children:o})}return u.displayName="LoadableComponent",u}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let r=n(7437),a=n(544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,a.getExpectedRequestStore)("next/dynamic css"),l=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},3949:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(7437),a=n(2265),l=n(166),i=n(9541),s=n(945),o=n(2369),c=n(9763);let u=(0,c.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),f=(0,c.Z)("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);var h=n(6287);let p=(0,l.default)(()=>n.e(315).then(n.bind(n,1315)),{loadableGenerated:{webpack:()=>[1315]},ssr:!1}),m=(0,l.default)(()=>n.e(631).then(n.bind(n,2631)),{loadableGenerated:{webpack:()=>[2631]},ssr:!1}),x=(0,l.default)(()=>n.e(627).then(n.bind(n,2627)),{loadableGenerated:{webpack:()=>[2627]},ssr:!1});(0,l.default)(()=>n.e(469).then(n.bind(n,9469)),{loadableGenerated:{webpack:()=>[9469]},ssr:!1});let v=(0,l.default)(()=>n.e(633).then(n.bind(n,2633)),{loadableGenerated:{webpack:()=>[2633]},ssr:!1}),g=(0,l.default)(()=>n.e(257).then(n.bind(n,2257)),{loadableGenerated:{webpack:()=>[2257]},ssr:!1}),b=(0,l.default)(()=>n.e(164).then(n.bind(n,6164)),{loadableGenerated:{webpack:()=>[6164]},ssr:!1}),y=(0,l.default)(()=>n.e(933).then(n.bind(n,3933)),{loadableGenerated:{webpack:()=>[3933]},ssr:!1});function w(){var e,t,n;let l=(0,i.L)(e=>e.user),[c]=(0,a.useState)({lat:20.5937,lon:78.9629}),[w,j]=(0,a.useState)({start:null,end:null}),[N,k]=(0,a.useState)(null),{data:E,loading:S}=function(e,t,n){let[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let r;async function a(){try{o(!0),await (0,s.yy)(e,t),r=setInterval(async()=>{let[r,a]=await Promise.all([(0,s.Bd)(e,t,n),(0,s.le)(e,t)]);r.success&&l(e=>({...e,risks:r.risks})),a.success&&l(e=>({...e,readings:a})),o(!1)},6e4);let[a,i]=await Promise.all([(0,s.Bd)(e,t,n),(0,s.le)(e,t)]);l({risks:a.success?a.risks:null,readings:i.success?i:null}),o(!1)}catch(e){u(e),o(!1)}}return e&&t&&a(),()=>{r&&clearInterval(r)}},[e,t]),{data:r,loading:i,error:c}}(c.lat,c.lon,{age:null==l?void 0:l.age,has_cardiovascular:null==l?void 0:null===(e=l.medicalConditions)||void 0===e?void 0:e.cardiovascular,has_respiratory:null==l?void 0:null===(t=l.medicalConditions)||void 0===t?void 0:t.respiratory,has_metabolic:null==l?void 0:null===(n=l.medicalConditions)||void 0===n?void 0:n.metabolic}),T=null==E?void 0:E.readings,_=function(e,t){let n=e.aqi,r=e.pm25,a=e.temperature,l,i=0,s=[];l=0+r/100*40,a>35&&(l+=20),a<10&&(l+=10),t&&(t.age>50&&(l*=1.2),t.medicalConditions.cardiovascular&&(l*=1.5,s.push("High Cardiac Stress detected. Heart condition precautions active."))),i+=n/400*100,(null==t?void 0:t.medicalConditions.respiratory)&&(i*=1.8,s.push("Respiratory Alert: Keep inhaler nearby."));let o=Math.max(l=Math.min(l,100),i=Math.min(i,100),n/500*100),c="LOW";return o>75?c="SEVERE":o>50?c="HIGH":o>25&&(c="MODERATE"),"SEVERE"===c?(s.push("AVOID all outdoor physical activity."),s.push("Wear N95/N99 mask if stepping out is unavoidable.")):"HIGH"===c?(s.push("Reduce intensity of outdoor exercise."),s.push("Sensitive groups should stay indoors.")):"MODERATE"===c&&s.push("Limit prolonged outdoor exertion."),{cardiacRisk:Math.round(l),asthmaRisk:Math.round(i),generalRisk:Math.round(o),riskLevel:c,recommendations:s}}({aqi:(null==T?void 0:T.aqi)||152,pm25:(null==T?void 0:T.pm25)||84,temperature:(null==T?void 0:T.temperature)||28,humidity:(null==T?void 0:T.humidity)||65,timestamp:Date.now(),source:"local",pm10:0,no2:0,so2:0,co:0,o3:0,windSpeed:0,uvIndex:0,latitude:0,longitude:0},l),R=(e,t)=>{"start"===N?(j(n=>({...n,start:[e,t]})),k(null)):"end"===N&&(j(n=>({...n,end:[e,t]})),k(null))},M=w.start&&w.end?[{id:"1",type:"safest",exposure:Math.round(5*((null==T?void 0:T.aqi)||50)),distance:12.4,duration:38,avgAqi:(null==T?void 0:T.aqi)||50},{id:"2",type:"fastest",exposure:Math.round(8*((null==T?void 0:T.aqi)||50)),distance:10.8,duration:32,avgAqi:Math.round(1.5*((null==T?void 0:T.aqi)||50))}]:[];return S&&!T||S&&!T?(0,r.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center text-white flex-col gap-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"font-mono text-blue-400 animate-pulse",children:"CONNECTING TO PATHWAY SATELLITE STREAM..."}),(0,r.jsx)("p",{className:"text-xs text-white/30",children:"Ensuring 100% Real-Time Data Integrity"})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-[url('/bg-abstract.jpg')] bg-cover bg-fixed text-white font-sans p-4 lg:p-6 overflow-hidden flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 z-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-500/10 via-transparent to-transparent"}),(0,r.jsxs)("header",{className:"relative z-10 flex items-center justify-between pointer-events-none",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 glass-panel px-6 py-3 rounded-full pointer-events-auto",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 animate-pulse-glow"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-lg font-black tracking-tighter uppercase italic",children:["AeroVital ",(0,r.jsx)("span",{className:"text-blue-400",children:"Navigator"})]}),(0,r.jsx)("p",{className:"text-[10px] text-white/50 font-mono tracking-widest",children:"SYSTEM ONLINE // v2.0"})]})]}),(0,r.jsxs)(h.Z,{className:"flex items-center gap-4 px-6 py-2 rounded-full pointer-events-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 border-r border-white/10 pr-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 overflow-hidden border border-white/20",children:(0,r.jsx)(o.Z,{className:"w-full h-full p-1 text-white/50"})}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xs font-bold text-white",children:(null==l?void 0:l.name)||"Commander"}),(0,r.jsx)("div",{className:"text-[10px] text-green-400 font-mono",children:"ID: AV-8842"})]})]}),(0,r.jsx)("button",{className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/70 hover:text-white",children:(0,r.jsx)(u,{size:18})}),(0,r.jsx)("button",{className:"p-2 hover:bg-red-500/20 rounded-full transition-colors text-white/70 hover:text-red-400",children:(0,r.jsx)(d,{size:18})})]})]}),(0,r.jsxs)("main",{className:"relative z-10 flex-1 grid grid-cols-1 lg:grid-cols-12 grid-rows-[auto_1fr] gap-4 lg:gap-6 min-h-0",children:[(0,r.jsx)("div",{className:"lg:col-span-12 h-32 lg:h-40",children:(0,r.jsx)(m,{aqi:(null==T?void 0:T.aqi)||152,pm25:(null==T?void 0:T.pm25)||84,temperature:(null==T?void 0:T.temperature)||28,humidity:(null==T?void 0:T.humidity)||65})}),(0,r.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-4 h-full min-h-0",children:[(0,r.jsx)("div",{className:"flex-1 min-h-[300px]",children:(0,r.jsx)(p,{cardiacRisk:_.cardiacRisk,asthmaRisk:_.asthmaRisk,exerciseSafety:_.generalRisk})}),(0,r.jsx)("div",{className:"h-64 lg:h-auto lg:flex-1",children:(0,r.jsx)(y,{aqiData:{aqi:(null==T?void 0:T.aqi)||152,pm25:(null==T?void 0:T.pm25)||84,temperature:(null==T?void 0:T.temperature)||28,humidity:(null==T?void 0:T.humidity)||65,timestamp:Date.now(),source:"local",pm10:0,no2:0,so2:0,co:0,o3:0,windSpeed:0,uvIndex:0,latitude:0,longitude:0}})})]}),(0,r.jsx)("div",{className:"lg:col-span-6 h-[500px] lg:h-auto min-h-0 relative group",children:(0,r.jsxs)(h.Z,{className:"h-full w-full p-0 overflow-hidden border-blue-500/30 shadow-[0_0_50px_rgba(59,130,246,0.1)] relative z-0",children:[(0,r.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-[400] flex gap-2 p-1 bg-black/60 backdrop-blur-md rounded-xl border border-white/10 shadow-xl",children:[(0,r.jsx)("button",{onClick:()=>k("start"),className:"px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ".concat("start"===N?"bg-green-500 text-white shadow-lg shadow-green-500/20":"hover:bg-white/10 text-white/70"),children:"Set Start"}),(0,r.jsx)("div",{className:"w-px bg-white/10 mx-1"}),(0,r.jsx)("button",{onClick:()=>k("end"),className:"px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ".concat("end"===N?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-white/10 text-white/70"),children:"Set Dest"})]}),(0,r.jsx)(g,{onStartSet:(e,t)=>R(e,t),onEndSet:(e,t)=>R(e,t),activeSelection:N}),(0,r.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"}),(0,r.jsx)("div",{className:"absolute bottom-4 left-6 z-[400] pointer-events-none",children:(0,r.jsx)("h2",{className:"text-4xl font-black italic tracking-tighter text-white/20",children:"LIVE MAP"})})]})}),(0,r.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-4 h-full min-h-0",children:[(0,r.jsx)("div",{className:"h-auto",children:(0,r.jsx)(v,{lat:c.lat,lon:c.lon})}),(0,r.jsxs)(h.Z,{className:"flex-1 bg-black/40 border-white/5 flex flex-col",children:[(0,r.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-white/50 mb-4 flex items-center gap-2",children:[(0,r.jsx)(f,{size:16})," Route Optimization"]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-3",children:w.start&&w.end?(0,r.jsx)(x,{onRouteSelect:()=>{},routes:M}):(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-white/10 rounded-xl",children:[(0,r.jsx)(f,{className:"text-white/20 mb-3",size:48}),(0,r.jsx)("p",{className:"text-sm text-white/40",children:"Select Start & Destination points on the map to calculate optimal paths."})]})})]})]})]}),(0,r.jsx)(b,{onQuery:e=>console.log("Voice Query:",e)})]})}},6287:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437),a=n(5183),l=n(1994),i=n(3335);function s(e){let{children:t,className:n,onClick:s,hoverEffect:o=!0}=e;return(0,r.jsxs)(a.E.div,{whileHover:o?{scale:1.02,y:-5}:{},whileTap:o?{scale:.98}:{},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,type:"spring"},className:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,l.W)(t))}("glass-card p-6 relative overflow-hidden group",n),onClick:s,children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),(0,r.jsx)("div",{className:"relative z-10",children:t})]})}},945:function(e,t,n){"use strict";n.d(t,{Bd:function(){return l},XM:function(){return i},le:function(){return s},yy:function(){return a}});let r=n(257).env.NEXT_PUBLIC_PATHWAY_API_URL;async function a(e,t){if(!r)return{success:!1,message:"API URL not configured"};try{let n=await fetch("".concat(r,"/api/aqi/stream/start?lat=").concat(e,"&lon=").concat(t));return await n.json()}catch(e){return console.error("Error starting stream:",e),{success:!1,error:e}}}async function l(e,t,n){if(!r)return{success:!1,message:"API URL not configured"};try{let a=await fetch("".concat(r,"/api/risk/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:e,lon:t,user_profile:n})});return await a.json()}catch(e){return console.error("Error getting risks:",e),{success:!1,error:e}}}async function i(e,t){if(!r)return{success:!1,message:"API URL not configured"};try{let n=await fetch("".concat(r,"/api/spike/detect?lat=").concat(e,"&lon=").concat(t));return await n.json()}catch(e){return console.error("Error detecting spike:",e),{success:!1,error:e}}}async function s(e,t){if(!r)return{success:!1,message:"API URL not configured"};try{let n=await fetch("".concat(r,"/api/aqi/current?lat=").concat(e,"&lon=").concat(t));return await n.json()}catch(e){return console.error("Error getting readings:",e),{success:!1,error:e}}}},9541:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(9625),a=n(6885);let l=(0,r.Ue)()((0,a.tJ)(e=>({user:null,setUser:t=>e({user:t}),clearUser:()=>e({user:null})}),{name:"aerovital-user"}))}},function(e){e.O(0,[5,137,971,117,744],function(){return e(e.s=9092)}),_N_E=e.O()}]);