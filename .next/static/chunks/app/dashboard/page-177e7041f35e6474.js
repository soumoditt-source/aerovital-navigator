(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702,945],{9092:function(e,t,s){Promise.resolve().then(s.bind(s,1172))},1172:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(7437),r=s(2265),l=s(166),n=s(9541),i=s(945);async function o(e,t){try{let s="https://air-quality-api.open-meteo.com/v1/air-quality?latitude=".concat(e,"&longitude=").concat(t,"&current=european_aqi,pm2_5,pm10,nitrogen_dioxide,sulphur_dioxide,carbon_monoxide,ozone"),a=await fetch(s),r=await a.json();if(r.current)return{success:!0,aqi:r.current.european_aqi||25,pm25:r.current.pm2_5||10,temperature:20,humidity:50,source:"Open-Meteo"};return{success:!1}}catch(e){return console.error("External AQI Fetch failed:",e),{success:!1}}}var c=s(8031),d=s(2369),u=s(8728),x=s(7692),h=s(3609),m=s(2048),p=s(8906),b=s(6287),g=s(7609),f=s(5183),v=s(8614),j=s(4972),N=s(4822),w=s(1239),y=s(4401),E=s(3578);function I(){let{aqi:e,pm25:t,temperature:s,humidity:l}=(0,c.M)(),{user:o}=(0,n.L)(),[d,u]=(0,r.useState)("Initializing Neural Link..."),[x,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let a=async()=>{if(0!==e){h(!0);try{let a={user:(null==o?void 0:o.name)||"Commander",age:(null==o?void 0:o.age)||30,aqi:e,pm25:t,temperature:s,humidity:l,query:"Analyze my current health risk based on my medical history and the current atmosphere. Provide a 1-sentence POST-TRANSFORMER reasoning."},r=await (0,i.queryPathwayIntel)(a.query,a);if(r.success){u(r.response||r.message);let t=/danger|stop|alert|critical|risk/i.test(r.response||"");p(t?100:e/300*100)}}catch(e){console.error("Pathway Analytics failure:",e),u("Neural link unstable. Recalibrating atmosphere sensors...")}finally{h(!1)}}},r=setInterval(a,3e4);return a(),()=>clearInterval(r)},[e,t,s,l,o]),(0,a.jsxs)(b.Z,{className:"h-full border-blue-500/20 bg-black/40 relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#3b82f6_1px,transparent_1px),linear-gradient(to_bottom,#3b82f6_1px,transparent_1px)] bg-[size:20px_20px]"})}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.Z,{size:20,className:"text-blue-400"}),(0,a.jsx)(f.E.div,{animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-blue-500/30 blur-md rounded-full"})]}),(0,a.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-blue-200/70 flex items-center gap-2",children:["Pathway Deep Brain ",(0,a.jsx)("span",{className:"text-[8px] bg-blue-500/20 px-1.5 py-0.5 rounded text-blue-400 border border-blue-500/30",children:"RAG ACTIVE"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 font-mono text-[9px] text-white/30",children:[(0,a.jsx)(N.Z,{size:10}),(0,a.jsx)("span",{children:"TRANSFORMER-XL MODE"})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 relative overflow-hidden",children:[(0,a.jsx)(v.M,{mode:"wait",children:(0,a.jsxs)(f.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-sm leading-relaxed text-blue-50/90 font-medium italic relative z-10",children:['"',d,'"']},d)}),x&&(0,a.jsx)("div",{className:"absolute bottom-1 right-2 flex gap-1",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"w-1 h-1 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"".concat(.2*e,"s")}},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"bg-blue-500/5 border border-blue-500/10 rounded-xl p-3 flex flex-row items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg text-blue-400",children:(0,a.jsx)(w.Z,{size:16})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-white/40 uppercase font-mono",children:"Inference"}),(0,a.jsx)("p",{className:"text-xs font-bold text-white",children:"42ms UltraFast"})]})]}),(0,a.jsxs)("div",{className:"border rounded-xl p-3 flex flex-row items-center gap-3 transition-colors ".concat(m>70?"bg-red-500/5 border-red-500/20":"bg-green-500/5 border-green-500/20"),children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(m>70?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"),children:(0,a.jsx)(y.Z,{size:16})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-white/40 uppercase font-mono",children:"Neural Load"}),(0,a.jsxs)("p",{className:"text-xs font-bold ".concat(m>70?"text-red-400":"text-green-400"),children:[Math.round(m),"% Load"]})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between text-[8px] font-mono text-white/20 border-t border-white/5 pt-3",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.Z,{size:8})," DATA INTEGRITY VERIFIED"]}),(0,a.jsx)("span",{children:"PATHWAY-AI-ENGINE-CONNECTED"})]})]}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-600/5 blur-[50px] rounded-full group-hover:bg-blue-600/10 transition-colors"})]})}let k=(0,l.default)(()=>s.e(358).then(s.bind(s,2358)),{loadableGenerated:{webpack:()=>[2358]},ssr:!1}),S=(0,l.default)(()=>s.e(631).then(s.bind(s,2631)),{loadableGenerated:{webpack:()=>[2631]},ssr:!1}),A=(0,l.default)(()=>s.e(347).then(s.bind(s,4347)),{loadableGenerated:{webpack:()=>[4347]},ssr:!1}),R=(0,l.default)(()=>s.e(618).then(s.bind(s,3618)),{loadableGenerated:{webpack:()=>[3618]},ssr:!1}),T=(0,l.default)(()=>s.e(257).then(s.bind(s,2257)),{loadableGenerated:{webpack:()=>[2257]},ssr:!1}),P=(0,l.default)(()=>s.e(164).then(s.bind(s,6164)),{loadableGenerated:{webpack:()=>[6164]},ssr:!1});function C(){var e,t,s;let l=(0,n.L)(e=>e.user),f=function(){let[e,t]=(0,r.useState)({lat:null,lon:null,error:null,loading:!0});return(0,r.useEffect)(()=>{if(!navigator.geolocation){t(e=>({...e,error:"Geolocation not supported",loading:!1}));return}navigator.geolocation.getCurrentPosition(e=>{t({lat:e.coords.latitude,lon:e.coords.longitude,error:null,loading:!1})},e=>{t(t=>({...t,error:e.message,loading:!1}))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),e}(),[v,j]=(0,r.useState)({lat:20.5937,lon:78.9629}),[N,w]=(0,r.useState)([20.5937,78.9629]);(0,r.useEffect)(()=>{f.lat&&f.lon&&(j({lat:f.lat,lon:f.lon}),w([f.lat,f.lon]))},[f.lat,f.lon]);let y="bg-blue-500";f.loading?y="bg-yellow-500 animate-pulse":f.error&&(y="bg-red-500");let[E,C]=(0,r.useState)({start:null,end:null}),[M,O]=(0,r.useState)(null),[_,q]=(0,r.useState)(!1),[L,z]=(0,r.useState)([]),{data:G,loading:Z}=function(e,t,s){let[a,l]=(0,r.useState)(null),[n,d]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),h=(0,c.M)(e=>e.setReadings);return(0,r.useEffect)(()=>{let a;async function r(){try{d(!0);let r=null;try{await (0,i.yy)(e,t);let[a,n]=await Promise.all([(0,i.Bd)(e,t,s),(0,i.le)(e,t)]);n.success&&(r=n,l({risks:a.success?a.risks:null,readings:n}))}catch(e){console.warn("Pathway failed, trying fallback...",e)}if(r)h({aqi:r.aqi,pm25:r.pm25,temperature:r.temperature,humidity:r.humidity});else{let s=await o(e,t);s.success&&(l({readings:s,risks:null}),h({aqi:s.aqi,pm25:s.pm25,temperature:s.temperature,humidity:s.humidity}))}d(!1),a=setInterval(async()=>{let s=await o(e,t);s.success&&(l(e=>({...e,readings:s})),h({aqi:s.aqi,pm25:s.pm25,temperature:s.temperature,humidity:s.humidity}))},6e4)}catch(e){x(e),d(!1)}}return e&&t&&r(),()=>{a&&clearInterval(a)}},[e,t,h]),{data:a,loading:n,error:u}}(v.lat,v.lon,{age:null==l?void 0:l.age,has_cardiovascular:null==l?void 0:null===(e=l.medicalConditions)||void 0===e?void 0:e.cardiovascular,has_respiratory:null==l?void 0:null===(t=l.medicalConditions)||void 0===t?void 0:t.respiratory,has_metabolic:null==l?void 0:null===(s=l.medicalConditions)||void 0===s?void 0:s.metabolic}),D=null==G?void 0:G.readings,H=(e,t)=>{"start"===M?(C(s=>({...s,start:[e,t]})),O(null)):"end"===M&&(C(s=>({...s,end:[e,t]})),O(null))},F=async()=>{if(!E.start||!E.end)return;q(!0),await new Promise(e=>setTimeout(e,2e3));let e=(null==D?void 0:D.aqi)||50;z([{id:"1",type:"safest",exposure:Math.round(17.5*e),distance:10.5,duration:42,avgAqi:Math.round(.7*e)},{id:"2",type:"fastest",exposure:Math.round(25*e),distance:8.4,duration:28,avgAqi:e},{id:"3",type:"greenest",exposure:Math.round(28*e),distance:9.6,duration:35,avgAqi:Math.round(.8*e)}]),q(!1)},U=function(e,t){let s=e.aqi,a=e.pm25,r=e.temperature,l,n=0,i=[];l=0+a/100*40,r>35&&(l+=20),r<10&&(l+=10),t&&(t.age>50&&(l*=1.2),t.medicalConditions.cardiovascular&&(l*=1.5,i.push("High Cardiac Stress detected. Heart condition precautions active."))),n+=s/400*100,(null==t?void 0:t.medicalConditions.respiratory)&&(n*=1.8,i.push("Respiratory Alert: Keep inhaler nearby."));let o=Math.max(l=Math.min(l,100),n=Math.min(n,100),s/500*100),c="LOW";return o>75?c="SEVERE":o>50?c="HIGH":o>25&&(c="MODERATE"),"SEVERE"===c?(i.push("AVOID all outdoor physical activity."),i.push("Wear N95/N99 mask if stepping out is unavoidable.")):"HIGH"===c?(i.push("Reduce intensity of outdoor exercise."),i.push("Sensitive groups should stay indoors.")):"MODERATE"===c&&i.push("Limit prolonged outdoor exertion."),{cardiacRisk:Math.round(l),asthmaRisk:Math.round(n),generalRisk:Math.round(o),riskLevel:c,recommendations:i}}({aqi:(null==D?void 0:D.aqi)||0,pm25:(null==D?void 0:D.pm25)||0,temperature:(null==D?void 0:D.temperature)||0,humidity:(null==D?void 0:D.humidity)||0,timestamp:Date.now(),source:"local",pm10:0,no2:0,so2:0,co:0,o3:0,windSpeed:0,uvIndex:0,latitude:0,longitude:0},l);return Z&&!D?(0,a.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center text-white flex-col gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"font-mono text-blue-400 animate-pulse",children:"CONNECTING TO PATHWAY SATELLITE STREAM..."}),(0,a.jsx)("p",{className:"text-xs text-white/30",children:"Ensuring 100% Real-Time Data Integrity"})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-[url('/bg-abstract.jpg')] bg-cover bg-fixed text-white font-sans p-4 lg:p-6 pb-24 overflow-y-auto flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"fixed inset-0 z-0 opacity-20 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-500/10 via-transparent to-transparent"}),(0,a.jsxs)("header",{className:"relative z-10 flex items-center justify-between pointer-events-none",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 glass-panel px-6 py-3 rounded-full pointer-events-auto",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 animate-pulse-glow"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-lg font-black tracking-tighter uppercase italic",children:["AeroVital ",(0,a.jsx)("span",{className:"text-blue-400",children:"Navigator"})]}),(0,a.jsx)("p",{className:"text-[10px] text-white/50 font-mono tracking-widest",children:"SYSTEM ONLINE // v3.0 ULTIMATE"})]})]}),(0,a.jsxs)(b.Z,{className:"flex items-center gap-4 px-6 py-2 rounded-full pointer-events-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 border-r border-white/10 pr-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-700 overflow-hidden border border-white/20",children:(0,a.jsx)(d.Z,{className:"w-full h-full p-1 text-white/50"})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs font-bold text-white",children:(null==l?void 0:l.name)||"Commander"}),(0,a.jsx)("div",{className:"text-[10px] text-green-400 font-mono",children:"ID: AV-8842"})]})]}),(0,a.jsx)("button",{className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white/70 hover:text-white",children:(0,a.jsx)(u.Z,{size:18})}),(0,a.jsx)("button",{className:"p-2 hover:bg-red-500/20 rounded-full transition-colors text-white/70 hover:text-red-400",children:(0,a.jsx)(x.Z,{size:18})})]})]}),(0,a.jsxs)("main",{className:"relative z-10 flex flex-col gap-6 w-full max-w-7xl mx-auto",children:[(0,a.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-8",children:(0,a.jsx)(S,{aqi:(null==D?void 0:D.aqi)||0,pm25:(null==D?void 0:D.pm25)||0,temperature:(null==D?void 0:D.temperature)||0,humidity:(null==D?void 0:D.humidity)||0})}),(0,a.jsx)("div",{className:"lg:col-span-4",children:(0,a.jsx)(I,{})})]}),(0,a.jsxs)("section",{id:"live-map",className:"h-[500px] lg:h-[600px] w-full relative group rounded-3xl overflow-hidden border border-white/10 shadow-2xl bg-slate-900",children:[(0,a.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-[1001] flex gap-2 p-1 bg-black/60 backdrop-blur-md rounded-xl border border-white/10 shadow-xl",children:[(0,a.jsx)("button",{onClick:()=>O("start"),className:"px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ".concat("start"===M?"bg-green-500 text-white shadow-lg shadow-green-500/20":"hover:bg-white/10 text-white/70"),children:"Set Start"}),(0,a.jsx)("div",{className:"w-px bg-white/10 mx-1"}),(0,a.jsx)("button",{onClick:()=>O("end"),className:"px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ".concat("end"===M?"bg-red-500 text-white shadow-lg shadow-red-500/20":"hover:bg-white/10 text-white/70"),children:"Set Dest"}),(0,a.jsx)("div",{className:"w-px bg-white/10 mx-1"}),(0,a.jsx)("button",{onClick:()=>{f.lat&&f.lon&&w([f.lat,f.lon])},className:"p-2 hover:bg-white/10 rounded-lg text-white/70 hover:text-white transition-all flex items-center",title:"Recenter Map",children:(0,a.jsx)(h.Z,{size:18})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 border-l border-white/10 ml-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(y)}),(0,a.jsx)("span",{className:"text-[10px] text-white/50 uppercase",children:f.loading?"Locating...":"GPS Active"})]}),E.start&&E.end&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-px bg-white/10 mx-1"}),(0,a.jsx)("button",{onClick:F,disabled:_,className:"px-6 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-500/30 flex items-center gap-2 ".concat(_?"opacity-50":""),children:_?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 border-2 border-white/50 border-t-white rounded-full animate-spin"}),"PROCESSING..."]}):"Nucleate Neural Route"})]})]}),(0,a.jsx)("div",{className:"w-full h-full relative z-[1]",children:(0,a.jsx)(T,{onStartSet:(e,t)=>H(e,t),onEndSet:(e,t)=>H(e,t),activeSelection:M,center:N,routePoints:E,aqi:(null==D?void 0:D.aqi)||0})}),(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black/80 to-transparent pointer-events-none z-[1000]"}),(0,a.jsx)("div",{className:"absolute bottom-4 left-6 z-[1000] pointer-events-none",children:(0,a.jsx)("h2",{className:"text-4xl font-black italic tracking-tighter text-white/20",children:"LIVE MAP"})})]}),(0,a.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/5 rounded-3xl p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"animate-spin-slow",size:20})," Real-Time Analysis"]}),(0,a.jsx)(k,{cardiacRisk:U.cardiacRisk,asthmaRisk:U.asthmaRisk,exerciseSafety:U.generalRisk})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(R,{lat:v.lat,lon:v.lon}),(0,a.jsxs)(b.Z,{className:"flex-1 bg-black/40 border-white/5 p-6 min-h-[400px] flex flex-col",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-white/50 mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{size:16})," Optimal Routes & Processing"]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col gap-4",children:_?(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"h-48 flex flex-col items-center justify-center text-center p-6 bg-blue-500/5 border border-blue-500/20 rounded-2xl animate-pulse",children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(p.Z,{className:"text-blue-500",size:16})})]}),(0,a.jsx)("p",{className:"text-blue-400 font-bold uppercase text-[10px] tracking-widest",children:"Running A* Weighted Intelligence..."})]}),(0,a.jsx)("div",{className:"flex-1 bg-black/60 rounded-xl p-4 font-mono text-[9px] text-blue-400/70 border border-white/5 overflow-hidden",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("p",{children:"> INITIALIZING HEURISTIC SAMPLES..."}),(0,a.jsx)("p",{children:"> FETCHING PATHWAY AQI STREAM [SUCCESS]"}),(0,a.jsx)("p",{children:"> ANALYZING 42 VOXEL NODES FOR PM2.5 EXPOSURE"}),(0,a.jsx)("p",{children:"> WEIGHTING DIJKSTRA COST FUNCTION [ETA 0.8s]"}),(0,a.jsx)("p",{children:"> OPTIMIZING FOR BIO-STABILITY [98.2% CONFIDENCE]"}),(0,a.jsx)("p",{className:"text-blue-300",children:"> FINALIZING SAFEST PATHWAY..."})]})})]}):(0,a.jsxs)(a.Fragment,{children:[!_&&E.start&&E.end&&L.length>0&&(0,a.jsx)(A,{onRouteSelect:()=>{},routes:L}),!_&&!(E.start&&E.end&&L.length>0)&&(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 border-2 border-dashed border-white/10 rounded-xl",children:[(0,a.jsx)(m.Z,{className:"text-white/20 mb-3",size:48}),(0,a.jsxs)("p",{className:"text-sm text-white/40",children:["Set Start & Dest, then click ",(0,a.jsx)("span",{className:"text-blue-400 font-bold",children:"Nucleate"}),"."]})]})]})})]})]})]})]}),(0,a.jsx)(g.default,{}),(0,a.jsx)(P,{})]})}},945:function(e,t,s){"use strict";s.d(t,{Bd:function(){return l},XM:function(){return n},le:function(){return i},queryPathwayIntel:function(){return o},yy:function(){return r}});let a=s(257).env.NEXT_PUBLIC_PATHWAY_API_URL;async function r(e,t){if(!a)return{success:!1,message:"API URL not configured"};try{let s=await fetch("".concat(a,"/api/aqi/stream/start?lat=").concat(e,"&lon=").concat(t));return await s.json()}catch(e){return console.error("Error starting stream:",e),{success:!1,error:e}}}async function l(e,t,s){if(!a)return{success:!1,message:"API URL not configured"};try{let r=await fetch("".concat(a,"/api/risk/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lat:e,lon:t,user_profile:s})});return await r.json()}catch(e){return console.error("Error getting risks:",e),{success:!1,error:e}}}async function n(e,t){if(!a)return{success:!1,message:"API URL not configured"};try{let s=await fetch("".concat(a,"/api/spike/detect?lat=").concat(e,"&lon=").concat(t));return await s.json()}catch(e){return console.error("Error detecting spike:",e),{success:!1,error:e}}}async function i(e,t){if(!a)return{success:!1,message:"API URL not configured"};try{let s=await fetch("".concat(a,"/api/aqi/current?lat=").concat(e,"&lon=").concat(t));return await s.json()}catch(e){return console.error("Error getting readings:",e),{success:!1,error:e}}}async function o(e,t){if(!a)return{success:!1,message:"API URL not configured"};try{let s=await fetch("".concat(a,"/api/intelligence/query"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,context:t})});return await s.json()}catch(e){return console.error("Error querying Pathway Intel:",e),{success:!1,error:e}}}}},function(e){e.O(0,[5,883,571,660,609,971,117,744],function(){return e(e.s=9092)}),_N_E=e.O()}]);